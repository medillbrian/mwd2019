<html>
    <head>
        <title>CSS Grid</title>
        <link rel="stylesheet" type="text/css" href="cssgrid.css">
        <link rel="stylesheet" media="screen and (min-width: 900px)" href="lg_screen.css">
        <link rel="stylesheet" media="screen and (max-width: 899px)" href="md_screen.css">
        <link rel="stylesheet" media="screen and (max-width: 600px)" href="sm_screen.css">
    </head>
    <body>
        <h1>CSS Grid in Action</h1>
        <div id="container">
            <div id="header">Header</div>
            <div id="sidebar">Sidebar</div>
            <div id="sidebar2">Sidebar</div>
            <div id="second">Second</div>
            <div id="box">Box</div>
            <div id="footer">Footer</div>
            <div id="more">More Content</div>
            <div id="most">Most Popular</div>
            <div id="main">Lede</div>
        </div>
        <script>
            
            // Handling JSON locally
            var txt = '{"name":"John", "age":30, "city":"New York"}';
            var items = JSON.parse(txt);
            document.getElementById("main").innerHTML = items.name + ", " + items.age;
            
            // Handling JSON via the server. You'll need MAMP or WAMP for this to work.
            function loadJSON(callback) {   

                var xobj = new XMLHttpRequest();
                    xobj.overrideMimeType("application/json");
                xobj.open('GET', 'sitelinks.json', true); // Replace 'appDataServices' with the path to your file
                xobj.onreadystatechange = function () {
                      if (xobj.readyState == 4 && xobj.status == "200") {
                        // Required use of an anonymous callback as .open will NOT return a value but simply returns undefined in asynchronous mode
                        callback(xobj.responseText);
                      }
                };
                xobj.send(null);  
             }
            
            loadJSON(function(results) {
                console.log(results); // this will list the response out as text
                json = JSON.parse(results); // conver the text into json object
                
                console.log(json.topMenuLinks); // start to access individual objects
                console.log(json.topMenuLinks[0].text); // see the item count
                
                // you can also loop through results
                
                var topmenu = json.topMenuLinks;
                console.log(topmenu.length);
                
                for(var i = 0; i < topmenu.length; i++) {
                                        
                    var obj = topmenu[i];
                    console.log(obj.text);
                }
                
            });
            
        </script>
    </body>
</html>
